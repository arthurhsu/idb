<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-menu/core-menu.html">
<link rel="import" href="../bower_components/paper-dropdown/paper-dropdown.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">

<polymer-element name="scrum-filter" attributes="owners priorities uiModel">
  <template>
    <style>
      paper-dropdown-menu {
        box-sizing: border-box;
        width: 170px;
      }
      core-menu {
        box-sizing: border-box;
        width: 170px;
      }
      paper-item {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
    </style>
    <paper-dropdown-menu label="Filter By Owners">
      <paper-dropdown class="dropdown">
        <core-menu class="menu" on-core-select="{{onOwnerChange}}">
          <template repeat="{{owners}}">
          <paper-item name="{{}}">{{}}</paper-item>
          </template>
        </core-menu>
      </paper-dropdown>
    </paper-dropdown-menu>
    <paper-dropdown-menu label="Filter By Priorities">
      <paper-dropdown class="dropdown">
        <core-menu class="menu" on-core-select="{{onPriChange}}">
          <template repeat="{{priorities}}">
            <paper-item name="{{}}">{{}}</paper-item>
          </template>
        </core-menu>
      </paper-dropdown>
    </paper-dropdown-menu>
  </template>
  <script>
    Polymer('scrum-filter', {
      ready: function() {
        console.log('filter', this.owners, this.priorities);
      },
      onOwnerChange: function(e, details) {
        this.uiModel.owner = details.item.getAttribute('name');
      },
      onPriChange: function(e, details) {
        this.uiModel.priority = details.item.getAttribute('name');
      }
    });
  </script>
</polymer-element>
